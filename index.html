<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>To My Katie</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #1a1a2e;
      color: white;
      font-family: Arial, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      overflow-x: hidden;
      padding: 20px;
      padding-bottom: 50px;
    }
    .heart {
      position: absolute;
      pointer-events: none;
      animation: fall 3s linear forwards;
      color: #ff4d6d;
    }
    @keyframes fall {
      0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    h1 {
      font-size: 42px;
      margin-bottom: 20px;
      color: #ff4d6d;
    }
    .photo {
      width: 280px;
      height: 280px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #ff4d6d;
      box-shadow: 0 0 30px #ff4d6d80;
      margin-bottom: 30px;
    }

    .question {
      font-size: 26px;
      color: #ffc2d1;
      margin: 20px 0;
      display: none;
    }
    .yes-btn {
      padding: 12px 30px;
      font-size: 20px;
      background: #ff4d6d;
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      display: none;
      transition: transform 0.2s;
    }
    .yes-btn:hover {
      transform: scale(1.08);
    }

    .typewriter {
      font-size: 22px;
      line-height: 1.6;
      max-width: 600px;
      white-space: pre-line;
      border-right: 3px solid #ff4d6d;
      padding-right: 8px;
      animation: blink 0.8s step-end infinite;
      display: none;
      margin-top: 10px;
    }
    @keyframes blink {
      from, to { border-color: transparent }
      50% { border-color: #ff4d6d; }
    }
    .love-note {
      margin-top: 30px;
      font-size: 20px;
      color: #ffc2d1;
      display: none;
      padding-bottom: 40px;
    }
  </style>
</head>
<body>

  <h1>Dear Katie,</h1>
  <img class="photo" src="https://q31d53.ma3you.top/a/OEMVp12/" alt="For Katie">

  <div class="question" id="question">Do you love me?</div>
  <button class="yes-btn" id="yesBtn">Yes</button>

  <div class="typewriter" id="text"></div>
  <div class="love-note" id="note">I love you, forever and always ❤</div>

  <script>
    const message = `Ever since I met you,
my world has become brighter and warmer.

You are the sweetest thing in my life.
I love your smile, your voice, your everything.

Katie,
I don't just like you.
I love you, truly and deeply.

I want to be with you,
to care for you,
to make you happy every single day.

You are my favorite person.`;

    const el = document.getElementById('text');
    const question = document.getElementById('question');
    const yesBtn = document.getElementById('yesBtn');
    const note = document.getElementById('note');

    setTimeout(() => {
      question.style.display = 'block';
      yesBtn.style.display = 'inline-block';
    }, 1000);

    yesBtn.addEventListener('click', () => {
      question.style.display = 'none';
      yesBtn.style.display = 'none';
      el.style.display = 'block';
      type();
      startHearts();
    });

    let i = 0;
    function type() {
      if (i < message.length) {
        el.innerHTML += message.charAt(i);
        i++;
        // 自动滚动到底部
        window.scrollTo({
          top: document.body.scrollHeight,
          behavior: 'smooth'
        });
        setTimeout(type, 80);
      } else {
        note.style.display = 'block';
        window.scrollTo({
          top: document.body.scrollHeight,
          behavior: 'smooth'
        });
      }
    }

    function startHearts() {
      setInterval(createHeart, 300);
    }
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.innerHTML = '❤️';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.fontSize = Math.random() * 20 + 10 + 'px';
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 3000);
    }
  </script>
</body>
</html>